<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>Getting Started with Data Grid Operator</title>
    <link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/>
    <meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/>
    <meta name="description"
          content="Install the Data Grid Operator into Red Hat OpenShift namespaces to run Data Grid for OpenShift clusters."/>
</head>
<body>
<div class="article">
    <div class="titlepage">
        <div>
            <div class="producttitle"><span class="productname">Red Hat Data Grid</span> <span
                    class="productnumber">8.0</span></div>
            <div><h1 class="title"><a id="idm140041619413920"/>Getting Started with Data Grid Operator</h1></div>
            <div><h3 class="subtitle"><em>Data Grid Documentation</em></h3></div>
            <div>
                <div class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div>
            </div>
            <div>
                <div class="legalnotice"><a id="idm140041599932096"/>
                    <p>
                        Copyright <span class="trademark"/>© 2020 Red Hat, Inc.
                    </p>
                    <p>
                        The text of and illustrations in this document are licensed by Red Hat under a Creative Commons
                        Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is
                        available at <code class="uri"><a class="uri"
                                                          href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a></code>.
                        In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must
                        provide the URL for the original version.
                    </p>
                    <p>
                        Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to
                        assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
                    </p>
                    <p>
                        Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift,
                        Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United
                        States and other countries.
                    </p>
                    <p>
                        <span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the
                        United States and other countries.
                    </p>
                    <p>
                        <span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
                    </p>
                    <p>
                        <span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or
                        its subsidiaries in the United States and/or other countries.
                    </p>
                    <p>
                        <span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United
                        States, the European Union and other countries.
                    </p>
                    <p>
                        <span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not
                        formally related to or endorsed by the official Joyent Node.js open source or commercial
                        project.
                    </p>
                    <p>
                        The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered
                        trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United
                        States and other countries and are used with the OpenStack Foundation's permission. We are not
                        affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
                    </p>
                    <p>
                        All other trademarks are the property of their respective owners.
                    </p></div>
            </div>
            <div>
                <div class="abstract"><p class="title"><strong>Abstract</strong></p>
                    <p>
                        Install the Data Grid Operator into Red Hat OpenShift namespaces to run Data Grid for OpenShift
                        clusters.
                    </p></div>
            </div>
        </div>
        <hr/>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div><h1 class="title"><a id="rhdg_operator_hub"/>Data Grid Operator</h1></div>
            </div>
        </div>
        <p>
            Data Grid Operator, available from the Operator Hub on Red Hat OpenShift, simplifies the process of creating
            and managing Data Grid clusters on OpenShift.
        </p>
        <p>
            Data Grid Operator watches for the Infinispan Custom Resources (CR) that you use to instantiate and
            configure Data Grid clusters and manage OpenShift resources, such as StatefulSets and Services. In this way,
            the Infinispan CR is your primary interface to Data Grid on OpenShift.
        </p>
        <div class="title"><strong>Red Hat OpenShift Operators</strong></div>
        <p>
            The OpenShift <a class="link" href="https://www.openshift.com/learn/topics/operators">Operators Tech
            Topic</a> and the <a class="link" href="https://coreos.com/operators/">Operators</a> topic in the CoreOS
            documentation are good resources for finding out about Operators.
        </p>
        <p>
            If you’re new to OpenShift, try some quick exercises in the <a class="link"
                                                                           href="https://learn.openshift.com/">Interactive
            Learning Portal</a>.
        </p></div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div><h1 class="title"><a id="subscribe_rhdg_operator"/>Creating Data Grid Operator Subscriptions</h1>
                </div>
            </div>
        </div>
        <p>
            Install Data Grid Operator into OpenShift projects from the Operator Hub.
        </p>
        <div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p>
            <ul class="itemizedlist">
                <li class="listitem">
                    Have administrator access to an OpenShift cluster.
                </li>
                <li class="listitem">
                    Create a namespace for Data Grid Operator.
                </li>
            </ul>
        </div>
        <div class="title"><strong>Installing Data Grid Operator</strong></div>
        <p>
            Navigate to the <span class="strong"><strong>OperatorHub</strong></span> in the OpenShift Web Console and
            locate Data Grid Operator.
        </p>
        <div class="informalfigure">
            <div class="mediaobject"><img src="images/topics/images/operator_install.png" alt="Install Operator"/></div>
        </div>
        <p>
            Set options for your Data Grid Operator subscription.
        </p>
        <div class="informaltable">
            <table border="1">
                <colgroup>
                    <col class="col_1"/>
                    <col class="col_2"/>
                </colgroup>
                <thead>
                <tr>
                    <th style="text-align: left" valign="top">Installation Mode</th>
                    <th style="text-align: left" valign="top">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align: left" valign="top"><p>
                        <span class="strong"><strong>All namespaces</strong></span>
                    </p>
                    </td>
                    <td style="text-align: left" valign="top"><p>
                        Install Data Grid Operator in all projects across the OpenShift cluster. This installation mode
                        is not currently supported.
                    </p>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left" valign="top"><p>
                        <span class="strong"><strong>A specific namespace</strong></span>
                    </p>
                    </td>
                    <td style="text-align: left" valign="top"><p>
                        Install Data Grid Operator into a specific OpenShift project.
                    </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="informaltable">
            <table border="1">
                <colgroup>
                    <col class="col_1"/>
                    <col class="col_2"/>
                </colgroup>
                <thead>
                <tr>
                    <th style="text-align: left" valign="top">Update Channel</th>
                    <th style="text-align: left" valign="top">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align: left" valign="top"><p>
                        <span class="strong"><strong>8.0.x</strong></span>
                    </p>
                    </td>
                    <td style="text-align: left" valign="top"><p>
                        Receive updates for Data Grid for OpenShift 8.0.x images.
                    </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="informaltable">
            <table border="1">
                <colgroup>
                    <col class="col_1"/>
                    <col class="col_2"/>
                </colgroup>
                <thead>
                <tr>
                    <th style="text-align: left" valign="top">Approval Strategies</th>
                    <th style="text-align: left" valign="top">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align: left" valign="top"><p>
                        <span class="strong"><strong>Manual</strong></span>
                    </p>
                    </td>
                    <td style="text-align: left" valign="top"><p>
                        You control when Data Grid Operator updates take place.
                    </p>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left" valign="top"><p>
                        <span class="strong"><strong>Automatic</strong></span>
                    </p>
                    </td>
                    <td style="text-align: left" valign="top"><p>
                        Data Grid Operator updates when it detects new versions are available.
                    </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            <p>
                Data Grid for OpenShift images updates apply to Data Grid Operator first and then for each Data Grid
                node. Data Grid Operator updates clusters one node at a time, gracefully shutting down each node and
                then bringing it back online with the updated version before going on to the next node.
            </p></div>
        <div class="title"><strong>Creating Data Grid Clusters</strong></div>
        <p>
            Navigate to <span class="strong"><strong>Installed Operators</strong></span> in the namespace where you
            installed Data Grid Operator.
        </p>
        <p>
            You can create Data Grid clusters from:
        </p>
        <div class="itemizedlist">
            <ul class="itemizedlist">
                <li class="listitem">
                    <span class="strong"><strong>Overview</strong></span> tab, select <span class="strong"><strong>Create Instance</strong></span>.
                </li>
                <li class="listitem">
                    <span class="strong"><strong>Infinispan cluster</strong></span> tab, select <span
                        class="strong"><strong>Create Infinispan</strong></span>.
                </li>
            </ul>
        </div>
        <div class="informalfigure">
            <div class="mediaobject"><img src="images/topics/images/operator_create_infinispan.png"
                                          alt="Create Infinispan"/></div>
        </div>
        <p>
            Data Grid Operator creates a minimal Infinispan CR with new cluster instances:
        </p>
        <pre class="screen">apiVersion: infinispan.org/v1 <a id="CO1-1"/><span><img src="images/callouts/1.png"
                                                                                    alt="1"/></span>
kind: Infinispan <a id="CO1-2"/><span><img src="images/callouts/2.png" alt="2"/></span>
metadata:
  name: example-infinispan <a id="CO1-3"/><span><img src="images/callouts/3.png" alt="3"/></span>
  namespace: rhdg-helloworld <a id="CO1-4"/><span><img src="images/callouts/4.png" alt="4"/></span>
spec:
  replicas: 2 <a id="CO1-5"/><span><img src="images/callouts/5.png" alt="5"/></span></pre>
        <div class="calloutlist">
            <table border="0" summary="Callout list">
                <tr>
                    <td valign="top" align="left"><p><a href="#CO1-1"><span><img src="images/callouts/1.png"
                                                                                 alt="1"/></span></a></p></td>
                    <td valign="top" align="left"><p>
                        declares the Infinispan API version.
                    </p></td>
                </tr>
                <tr>
                    <td valign="top" align="left"><p><a href="#CO1-2"><span><img src="images/callouts/2.png"
                                                                                 alt="2"/></span></a></p></td>
                    <td valign="top" align="left"><p>
                        declares the Infinispan CR.
                    </p></td>
                </tr>
                <tr>
                    <td valign="top" align="left"><p><a href="#CO1-3"><span><img src="images/callouts/3.png"
                                                                                 alt="3"/></span></a></p></td>
                    <td valign="top" align="left"><p>
                        names your Data Grid cluster.
                    </p></td>
                </tr>
                <tr>
                    <td valign="top" align="left"><p><a href="#CO1-4"><span><img src="images/callouts/4.png"
                                                                                 alt="4"/></span></a></p></td>
                    <td valign="top" align="left"><p>
                        sets the OpenShift namespace.
                    </p></td>
                </tr>
                <tr>
                    <td valign="top" align="left"><p><a href="#CO1-5"><span><img src="images/callouts/5.png"
                                                                                 alt="5"/></span></a></p></td>
                    <td valign="top" align="left"><p>
                        specifies the number of nodes in the cluster.
                    </p></td>
                </tr>
            </table>
        </div>
        <p>
            Applying the minimal Infinispan CR creates a cluster of two Cache service nodes that provide a volatile,
            low-latency data store with a default configuration.
        </p>
        <p>
            Data Grid Operator lets you configure Data Grid cluster properties such as:
        </p>
        <div class="itemizedlist">
            <ul class="itemizedlist">
                <li class="listitem">
                    Number of nodes.
                </li>
                <li class="listitem">
                    Whether clusters act as a Cache service or Data Grid service.
                </li>
                <li class="listitem">
                    Authentication credentials.
                </li>
                <li class="listitem">
                    Encryption for network traffic between nodes and clients.
                </li>
            </ul>
        </div>
        <p>
            When you instantiate a Data Grid cluster instance, Data Grid Operator brings the nodes up. When the nodes
            are running, navigate back to the <span class="strong"><strong>Infinispan</strong></span> tab to access the
            Infinispan CR and view available resources like authentication secrets and services.
        </p>
        <div class="informalfigure">
            <div class="mediaobject"><img src="images/topics/images/operator_cluster_resources.png"
                                          alt="Cluster Resources"/></div>
        </div>
        <div class="title"><strong>Next Steps</strong></div>
        <p>
            Find information about Data Grid CRDs and configuration options, see <a class="link"
                                                                                    href="https://access.redhat.com/documentation/en-us/red_hat_data_grid/8.0/html-single/running_data_grid_on_openshift/">Running
            Data Grid on OpenShift</a>.
        </p></div>
</div>
</body>
</html>